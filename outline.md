# 项目综述

## 业务模块

### 用户端

### 1.登录与认证

登录业务与微信原生业务高度结合，需要调用三个api，完成登录及认证授权服务。

第一个是前端需调用完成的wx.login,获得基础的登录code传入后但,然后通过auth.code2ssesion接口访问,获取用户的ssesion和唯一id

介于该小程序需要用到用户的一些基本信息,可能还需要通过wx.getUserInfo接口得到用户授权。

登录小程序后，可以对小程序中的昵称和真实名字进行修改。

### 2.创建组

我们是以组为单位建立用户的聚合，即用户需要先建立组，然后将试卷发布到相应的组中去。

建立组时，生成一个根据当前时间戳生成的唯一的六位乱序码作为组码，然后生成二维码或者通过组码进行共享。其余成员通过这种方式加入。

创建者为唯一管理员，其余成员为组成员。

直接生成试卷就相当于直接创建一个组。（该组组名为试卷名称）


### 3.组管理

提供接口再次得到组二维码或者组号。

组管理员可以删除组成员，修改组名。

组员可以退出相应的组。

### 4.新建试卷

#### 试卷总览

新建试卷的时候，需要手动给与试卷名，试卷的开始时间和结束时间，试卷的描述。（自动计算考试时间）

新建试卷后，进入题目的新建和加入页面，同时该试卷将出现在新建者的列表中，在设定的开始考试半小时之前，将可以修改试卷题目和设定，半小时内将会出现在组成员的试卷列表中,同时数据库将锁定考试成员，再入组用户无法参加该次考试。

后台关于该试卷是否有主观题自动区分试卷type

试卷将自动计算出总分和时限。

#### 新建和插入题目

题目的必要属性有题目title，类型，分数，选项，答案。

题目基于后台的题库系统实现，新建试卷后，用户只需要添加题库中的题目然后对其修改就可以实现快速创建试卷，当然也可以手动新建题目，题目的类型有四种。

新建和修改的题目可以进行二次上传到题库当中。我们也鼓励这样做。

点击删除可以直接删除试卷中的某个试题。

上传题目到题库时将上传题目的用户名称，并要求用户输入题目的学科，分数属性不会上传。

### 5.批改试卷

如果试卷有主观题，则结束后不会直接向学生展示成绩和错题，而需要出题者完成主观题的批改。是否有主观题由系统自动判断。

出卷人可以对学生完成情况进行评价，完成评语。

出卷人可以查看学生答卷。

学生由成绩进行顺序排序。

当试卷锁定时，出卷人能查看自己出的试题，无法修改。

### 6.查看错题

作答者在时间结束后，如果已经完成批改，可以进入试卷查看自己的错误题目和评语，题目的状态将分为未作答，正确，错误，主观题。并且能查看答案和正确答案。

如果评语未填写，评语处显示，暂无评语。

### 管理员端

### 1.用户管理

对用户进行管理，可以对非法用户封号，修改不合法昵称和姓名。

### 2.试题管理

对试题进行管理，对非法试题进行删除。

### 3.试卷管理

对试卷进行管理，对非法试卷进行删除。

### 4.组管理

解散不合法的组，修改不合法组名。

## 原型修改建议
